-- if the player is in the aggro range, the enemy will proceed to attack him and ask his friends to join in
if player ~= nil then
	if Vector3.Distance(player.transform.position, enemy.transform.position) <= 7 then
		-- Set the enemy as aggressive
		enemy.SetAggro(true)
	
		-- Set my friends as aggressive
		local enemies = game.GetEnemiesInRadius(enemy.transform.position, 7)
		local enemyCount = luautils.GetArraySize(enemies)
		for i = 1, enemyCount do
			enemies[i].SetAggro(true)
		end
	end


	if enemy.IsAggroed() then
		if enemy.CanMove() then
			enemy.GetMovementControls().SetDestination(player.transform.position)
		end
	
		if Vector3.Distance(player.transform.position, enemy.transform.position) <= 1.5 then
			enemy.ExecuteAttack("BasicAttack")
		end
	end
end
	