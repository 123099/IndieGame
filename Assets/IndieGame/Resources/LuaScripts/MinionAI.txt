-- i'm setting the enemy to not be aggresive from the beginning
enemy.SetAggro(false)

-- if the player is in the aggrorange, the enemy will proceed to attack him and ask his friends to join in
if Vector3.Distance(player.transform.position, enemy.transform.position) <= 7 then
	-- Set the enemy as aggressive
	enemy.SetAggro(true)

	-- Set my friends as aggressive
	local enemies = game.GetEnemiesInRadius(enemy.transform.position, 7)
	local enemyCount = luautils.GetArraySize(enemies)
	for i = 1, enemyCount do
		enemies[i].SetAggro(true)
	end
end